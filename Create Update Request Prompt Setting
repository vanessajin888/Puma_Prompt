A. Basic Description:
Triggered by user queries containing "create requests", "create update request", "create update information", "change request", "change", "change update request" and similar keywords. Intention = "create update requests",, and return 13 types input parmeters 

B. Parameters:
1. token:
   (a) Type: String
   (b) Description:
      user access token,The token starting with "acc_"
   (c) Required

2. prompt:
   (a) Type: String
   (b) Description:
       user prompt message
       The full text input from user start from "Prompt:--------- to  User Prompt End---------- "    （NOTE: Must be the full text without any omissions or LLM laziness）
   
       for example:
       "prompt": "Prompt:---------\nUser New Message:"some message"\n\nUser Token is:\n"token"\n\nHere is the chat information:\n\n Chat Id : "chat id", Message Id : "message id"\n\nHere is the history of the conversation:\n\nHistory 0. user : "some history message"\nHistory 1. assistant : "some response from ai agent"\nHistory 2. ...etc.\n\nUser Prompt End----------"   (c) Required

3. fileId:
   (a) Type: String
   (b) Description:
      a fileId include filter content: If user upload file, extract fileId; If user does not upload file, fileId = null

4. confirmAll:
   (a) Type: Boolean
   (b) Description:
      when user type "confirmAll" or "confirm", set it to be true; otherwise set it to be false
      Remind: when confirmAll = true, then filters = null and userAction = "confirm"

5. chatId:
   (a) Type: String
   (b) Description:
      The ID for the chat
      chatId must extract in the user prompts, the format should be: Chat Id : "The content to be extract"

6. messageId:
   (a) Type: String
   (b) Description:
      The ID for the message
      messageId must extract in the user prompts, the format should be: Message Id Id : "The content to be extract"

7. resumeId:
   (a) Type: String
   (b) Description:
      The ID for the process to resume
      Set to `null` for first query, and for other subqueries, resumeId keeps same as lastest prompt history result.
      NOTE: If current intension is different from last output's intenson, then set resumeId to null

8. resumeStage:
   (a) Type: String
   (b) Description:
      The next stage for the whole process, including ParamConfirmation or RequestValidation
      (1) Initial query: `null`
      (2)Subsequent queries: Must exactly match the previous output's `resumeStage`
      NOTE: If current intension is different from last output's intenson, then set resumeStage to null

9. userAction:
   (a) Type: String
   (b) Description:
     (1)if user type keywords "add"/"remove"/"remove all"/"change" 
     userAction will be "change", and confirmAll will be false.
     (2)if user type keywords "confirm" 
     userAction will be "confirm", and confirmAll will be true.
     (3)if user type keywords "abort" 
     userAction will be "abort".
     (4)Special Handling for Non-New Queries:
     If the user’s query is not a new query and occurs during a confirmation stage (i.e., the user does not make a confirm/abort decision but inputs a query) and the query intention tool remains the same as the previous query’s intention tool, then treat the current input as an add operation, userAction will be "change"

     Example:
     - Previous Query: `I want to view order So 423542635`
     - Current User Input: `I want to view order gtn po aaa`  
     → This is not a new query.  
     → `userAction`: "change"
     (5)None of the above or if it is user first query,
     userAction will be null

10. removeAll:
   (a) Type: Boolean
   (b) Description:
      if user type "remove all" then set it to true;  otherwise, set to false
      Remind: If removeAll = true, then useAction must be "change" 

11. column:
   (a) Type: Array
   (b) Description:
     1. Definition
      The `column` array specifies which fields the user wants to display in the query results.  
      Example format: `["GTN PO", "SO Number"]`  
      - If the user does not specify any columns, set this field to `null`.
      - Valid column names are case-sensitive and must match the supported list exactly.

     2. Extraction Rules
      - When user explicitly mentions columns: Extract and use only those column names.
      - When user does not mention columns:
      - If this is the first query in the conversation, set to `null`.
      - If this is a **follow-up query** (e.g., add/remove/confirm), preserve the column selections from the **latest assistant response** in the history.

     3. Supported Column Fields
      Only the following column names are supported:  
      `"Change Type"`, `"New Value"`, `"GTN PO"`, `"GTN PO Item"`, `"Customer PO"`, `"SO Number"`, `"SO Item Number"`, `"Requestor Comment"`

     4. Example
      **User Query**: *"I wanna create requests to transfer for order with SO Number 0148275035 and SO Item Number 00010 and I only want to view GTN PO and SO Number in result."*
      then，
      "requests": ["{\"SO Number\": \"0148275035\", \"SO Item Number\": \"00010\", \"Change Type\": \"Internal Transfer\", \"New Value\": null, \"Requestor Comment\": null}"],
      "column": ["GTN PO", "SO Number"]
   (c) Array Item Type: String
   (d) Array Item Description: column key that wants to extract
12. addList:
   (a) Type: Array
   (b) Description:
        Define an array of objects. Extract "add" operations from the current user input (user new message) as an array of objects in the format:  
      `["{"Key":"Value"}", ...]`
      Remind: Extract all applicable add conditions from the user's current input into an array (from user new message, please don't extract value from history record)
      
      Rules:
      1. When `userAction == "change"`, set `addList == filters`.
      2. Related keywords for extraction include: "add", "also want to add".
      3. If `userAction == "abort"` or `userAction == "confirm"` or `removeAll == true`, set `addList` to `null`.
      
      Special Handling for Non-New Queries:
      If the user’s query is not a new query and occurs during a confirmation stage (i.e., the user does not make a confirm/abort decision but inputs a query) and the query intention tool remains the same as the previous query’s intention tool, then treat the current input as an add operation.
      
      Example:
      - Previous Query: `I wanna create requests to Update CHD to 1/30/2025 for order with GTNPO 4602430346 and item number 00600`
      - Current User Input: `I wanna create requests to Update CHD to 1/30/2025 for order with GTNPO 4602430547 and item number 00622`  
      → This is not a new query.  

   (c) Array Item Type: String
   (d) a JSON object string contain filter keys and value

13. requests:
   (a) Type: Array
   (b) Description:
           requests: Extract all filter conditions from the current user input request (user new message; Remind: must don't extract from history record data); If no filters, set to empty array
      e.g 1:  If the user input: I want to change the request SO 0141348900, update LCHD to a new value 2025-11-07
         requests = ["{"SO Number":"0141348900", "Change Type": "Update LCHD", "New Value": "2025-11-07", "Requestor Comment":null }"]
      
      e.g 2:  If the user input: I want to change LCHD of orders
         requests = ["{"Change Type": "Update LCHD", "New Value": null, "Requestor Comment":null }"];
      
      e.g 3:  If user new message:I wanna create a transfer request,
      then requests = ["{"Change Type": "Internal Transfer", "New Value": null, "Requestor Comment":null }"];
      (1) NOTE: When userAction = "confirm",then confirmAll = true, requests = [];
      When userAction = "abort", then removeAll = false,requests = [];
      When removeAll = true, requests = [];
      When userAction = "confirm", then requests = []
      (2)NOTE 3:If user input query: I want to change the request 0141348900, update LCHD to a new value 2025-11-07:
      This case user don't input fields but input numbers,. For this case it is defaulted considered as GTN PO
      So, Output:  
       requests = ["{"GTN PO":"0141348900", "Change Type": "Update LCHD", "New Value": "2025-11-07", "Requestor Comment":null }"]
      NOTE 4: If user input request parameter only have key name but don't have value
              for example:
            If user query:  want to change the request, update LCHD to a new value 2025-11-07
         requests = ["{"SO Number":"","Change Type": "Update LCHD", "New Value": "2025-11-07", "Requestor Comment":null }"]

   (c) Array Item Type: String
   (d) Array Item Description:a JSON object string contain filter keys and value
